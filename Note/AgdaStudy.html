<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-03-05 å‘¨å›› 21:14 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Agda language study</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Comcx" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="org-themes/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="org-themes/styles/readtheorg/css/readtheorg.css"/>
<script type="text/javascript" src="org-themes/styles/lib/js/jquery.min.js"></script>
<script type="text/javascript" src="org-themes/styles/lib/js/bootstrap.min.js"></script>
<script type="text/javascript" src="org-themes/styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="org-themes/styles/readtheorg/js/readtheorg.js"></script>
<style>pre.src{background:#343131;color:white;} </style>
<style> #content{max-width:1800px;}</style>
<style> p{max-width:800px;}</style>
<link rel="icon" type="image/x-icon" href="../images/digimon-icon.png" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Agda language study</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org624ec73">1. å¯¹Agdaçš„ç¬¬ä¸€å°è±¡</a></li>
<li><a href="#org9196d66">2. Re: ä»é›¶å¼€å§‹çš„Agdaç”Ÿæ´»</a>
<ul>
<li><a href="#orgd39854a">2.1. ä»é›¶å¼€å§‹çš„è‡ªç„¶æ•°(Nat and Bool)</a></li>
<li><a href="#org3cf2746">2.2. ä»é›¶å¼€å§‹çš„åˆ—è¡¨(List)</a></li>
<li><a href="#org123e0a2">2.3. å°è¯•æ„é€ æˆ‘ä»¬çš„å¸¸ç”¨å°å‡½æ•°ï¼</a></li>
<li><a href="#orgcdb884b">2.4. ç±»å‹å³å‘½é¢˜ï¼Œç¨‹åºå³è¯æ˜</a>
<ul>
<li><a href="#org453d008">2.4.1. è¯æ˜åŠ æ³•ç»“åˆå¾‹</a></li>
<li><a href="#org1a1a3ce">2.4.2. è¯æ˜åŠ æ³•äº¤æ¢å¾‹</a></li>
</ul>
</li>
<li><a href="#orga6341b1">2.5. æƒ³æ‰¾åˆ°ç›¸ç­‰çš„ä¸œè¥¿æ˜¯äººç±»ä¸€åˆ‡æ€è€ƒçš„æºå¤´</a>
<ul>
<li><a href="#orgedb718b">2.5.1. ç›¸ç­‰çš„ä¸‰ä¸ªåŸºæœ¬ç‰¹æ€§</a></li>
<li><a href="#org164c290">2.5.2. ç›¸ç­‰çš„å‡½æ•°å¯æ›¿æ¢æ€§</a></li>
<li><a href="#orgf8d07e5">2.5.3. æ›´å¤šè¯æ˜ç›¸ç­‰çš„å·¥å…·</a></li>
</ul>
</li>
<li><a href="#org8159626">2.6. ä¸‡ç‰©åˆå§‹ï¼šå®‡å®™çš„ç”Ÿæˆ</a>
<ul>
<li><a href="#org185164c">2.6.1. å®‡å®™çš„æ¬¡ç¬¬</a></li>
<li><a href="#org5d003f1">2.6.2. åˆå§‹ä¸ç»ˆç»“å¯¹è±¡</a></li>
<li><a href="#org41a89fc">2.6.3. è‡ªç„¶æ•°å·åœŸé‡æ¥</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<p>
å› ä¸º <i>agda</i> çš„å›½å†…ä½¿ç”¨è€…è¿˜å¾ˆå°‘ï¼Œä¸ºäº†æ»¡è¶³æˆ‘çš„å®‰åˆ©æ¬²ï¼Œæˆ‘æ‰“ç®—ç”¨ä¸­æ–‡å†™æˆ‘çš„agdaå­¦ä¹ ç¬”è®°ä¸è¿‡ç¨‹ï¼Œå¸Œæœ›å¯ä»¥åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è·å¾—æ–°çŸ¥çš„å¿«ä¹ã€‚
Agdaæ˜¯ä¸€æ¬¾ä¾èµ–ç±»å‹ç³»ç»Ÿä¸ºæ ¸å¿ƒçš„è¯­è¨€ï¼Œæ‰€ä»¥æ”¯æŒå½¢å¼åŒ–è¯æ˜ï¼ˆå®é™…ä¸Šè¿™ä¹Ÿæ˜¯agdaçš„é‡è¦ç”¨é€”ï¼‰ã€‚æ­¤å¤–ï¼Œagdaçš„è®¾è®¡ä¹Ÿååˆ†æœ‰è¶£ï¼Œæ— è®ºæ˜¯
æ··åˆå‰ä¸­åç¼€è¯­æ³•è¿˜æ˜¯ç±»Haskellçš„ä»£ç é£æ ¼ï¼Œéƒ½ç»™äºˆäº†ç©å®¶æå¤§çš„è‡ªç”±ã€‚åœ¨agdaçš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬å¯ä»¥æ²¡æœ‰ <code>Integer</code> ï¼Œæ²¡æœ‰ <code>Bool</code> ,
ä½†æ˜¯æˆ‘ä»¬å´è·å¾—äº†åˆ›é€ ä¸€åˆ‡çš„æœ¨å¤´ï¼ˆæ²¡é”™ï¼Œç±»ä¼¼Minecraftï¼‰ã€‚åœ¨æ²¡æœ‰agda-stdlibçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªåŠ›æ›´ç”Ÿï¼Œæˆä¸ºæ¬¢ä¹åŸå§‹äººæˆ–è€…ï¼Œ
æˆä¸º <b>åˆ›é€ ç¥ã€‚</b>
</p>

<p>
æˆ‘æƒ³åœ¨è¿™é‡Œé¦–å…ˆåæ§½ä¸€ç•ªæˆ‘è¸©è¿‡çš„å®‰è£…agdaçš„å‘ï¼
</p>
<ol class="org-ol">
<li>Ubuntuä¸‹çš„agda-binå’Œagda-stdlibä¹Ÿè®¸ä¸å…¼å®¹ã€‚
æˆ‘å°è¯•äº†Næ¬¡åœ¨Ubuntuä¸‹å®‰è£…agdaï¼Œä¸€æ¬¡ä¹Ÿæ²¡æˆåŠŸè¿‡ï¼æˆ‘æŸ¥äº†å¾ˆå¤šèµ„æ–™ï¼Œæœ€ç»ˆè®¤ä¸ºä¹Ÿè®¸æ˜¯å†…éƒ¨æœ‰ä¸å…¼å®¹ã€‚</li>

<li>Archå¹³å°æˆ‘ä¹Ÿå®‰è£…äº†Næ¬¡ï¼Archä¸€ç›´æç¤ºç¼ºå°‘IEEEçš„åº“ï¼Œæˆ‘é‡è£…äº†é‚£ä¸ªåº“è¿˜æ˜¯æ²¡æœ‰åµç”¨ã€‚ã€‚ã€‚</li>

<li>Cabalå›½å†…è®¿é—®é€Ÿåº¦é¾Ÿé€Ÿï¼Œå‡ ä¹æ— æ³•ä½¿ç”¨ï¼Œæ¢äº†é•œåƒç»§ç»­çˆ†ç‚¸ã€‚ã€‚ã€‚
æ¸…åæºå®‰è£…ç»§ç»­å¤±è´¥ï¼ŒåŸå› ä¸æ˜ï¼š(</li>
</ol>


<p>
åœ¨ç»æœ›ä¸­ï¼Œæˆ‘ä¸‹è½½äº† <span class="underline">Agda bundle</span> çš„windowsç‰ˆæœ¬ï¼Œç»“æœå±…ç„¶æˆåŠŸäº†ï¼Œç¬¬äºŒæ¬¡è¿™ä¹ˆæƒ³èµç¾winï¼ˆç¬¬ä¸€æ¬¡æ˜¯TypeScriptï¼‰ã€‚
äºæ˜¯ç°åœ¨æˆ‘ç»ˆäºå¯ä»¥å¼€å§‹æ„‰å¿«çš„å­¦ä¹ ç¼–ç¨‹äº†ï¼
</p>


<div id="outline-container-org624ec73" class="outline-2">
<h2 id="org624ec73"><span class="section-number-2">1</span> å¯¹Agdaçš„ç¬¬ä¸€å°è±¡</h2>
<div class="outline-text-2" id="text-1">
<p>
é¦–å…ˆï¼Œagdaç»ˆäºç»Ÿä¸€äº†term, typeçš„åŒºåˆ«ï¼Œå¤§å®¶éƒ½æ„‰å¿«çš„å˜æˆäº†ä¸€ç§ä¸œè¥¿ã€‚å› æ­¤æˆ‘ä»¬ä¹Ÿå°±å‡ ä¹ä¸éœ€è¦ç±»ä¼¼ <code>type</code> å…³é”®è¯ä¹‹ç±»çš„å¤šä½™çš„è®¾æ–½ã€‚
å¯¹äºHaskellç©å®¶æ¥è¯´ï¼Œagdaä¸€ä¸Šæ¥æœ€æ˜æ˜¾çš„åŒºåˆ«æ˜¯ç±»å‹æ ‡è®°çš„ç¬¦å·ä» <code>::</code> å˜æˆäº† <code>ï¼š</code> ã€‚
</p>
<div class="org-src-container">
<pre class="src src-agda">foo : Set

</pre>
</div>
<p>
æ­¤å¤„ <code>Set</code> ç©ç›®ã€‚å¦‚æœä½ ä½¿ç”¨è¿‡haskellçš„è¯ï¼Œé‚£ä¹ˆä½ ä¸€å®šçŸ¥é“haskellçš„ <code>kind</code> ã€‚kindåœ¨haskellé‡Œå†™ä½œ <code>*</code> ã€‚åœ¨haskellé‡Œå¦‚æœæˆ‘ä»¬éœ€è¦
ç‰¹åˆ«å¯¹ç±»å‹è¿›è¡Œé™å®šï¼Œæˆ‘ä»¬è¦å†™ï¼š
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #729fcf; font-weight: bold;">class</span> <span style="color: #8ae234; font-weight: bold;">Functor</span> f <span style="color: #ff6347;">::</span> <span style="color: #ff6347;">*</span> <span style="color: #ff6347;">-&gt;</span> <span style="color: #ff6347;">*</span> <span style="color: #729fcf; font-weight: bold;">where</span>
  <span style="color: #ff6347;">...</span>
</pre>
</div>
<p>
ä¹‹ç±»çš„ä»£ç ï¼Œå…¶å®agdaè¿™é‡Œä¸ä»…æŠŠ <code>*</code> æ¢æˆäº† <code>Set</code> ï¼Œè€Œä¸”agdaè¿˜æœ‰ä¸åŒå±‚æ¬¡çš„ <span class="underline">universe</span> (ç”¨æ¥é€ƒé¿ç½—ç´ æ‚–è®º)ã€‚
</p>

<p>
æ­¤å¤–ï¼Œagdaçš„ADTå£°æ˜æ–¹å¼ç»Ÿä¸€é‡‡ç”¨haskellçš„ <b>GADT</b> æ ¼å¼ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—agdaçš„ç±»å‹çº¦æŸååˆ†å¼ºå¤§ã€‚
</p>
</div>
</div>

<div id="outline-container-org9196d66" class="outline-2">
<h2 id="org9196d66"><span class="section-number-2">2</span> Re: ä»é›¶å¼€å§‹çš„Agdaç”Ÿæ´»</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orgd39854a" class="outline-3">
<h3 id="orgd39854a"><span class="section-number-3">2.1</span> ä»é›¶å¼€å§‹çš„è‡ªç„¶æ•°(Nat and Bool)</h3>
<div class="outline-text-3" id="text-2-1">
<p>
åœ¨agdaé‡Œï¼Œæˆ‘ä»¬ä¸€å¼€å§‹æ˜¯æ²¡æœ‰è‡ªç„¶æ•°çš„ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨çš®äºšè¯ºå…¬ç†ã€‚
</p>
<div class="org-src-container">
<pre class="src src-agda">data Nat : Set where
  zero : Nat
  suc  : Nat -&gt; Nat
</pre>
</div>

<p>
ä¸€åˆ‡éƒ½ååˆ†ç®€æ´è€Œè‡ªç„¶ã€‚æˆ‘ä»¬å¯ä»¥åœ¨emacsé‡ŒæŒ‰ <code>C-c C-n</code> æ¥è¾“å…¥è¡¨è¾¾å¼è¿›è¡Œæµ‹è¯•ï¼Œæ¯”å¦‚ <code>suc (suc zero)</code> ã€‚
</p>

<p>
å¯æ˜¯æˆ‘ä»¬æ€»ä¸æƒ³å†™ä¸€ä¸ª3éƒ½è¦å†™æˆ <code>suc (suc (suc zero))</code> ,æˆ‘ä»¬å¯ä»¥æŠŠæˆ‘ä»¬å®šä¹‰çš„è‡ªç„¶æ•°æ˜ å°„åˆ°æ™®é€šçš„åè¿›åˆ¶ç®—æ•°æ ‡è®°ï¼š
</p>
<div class="org-src-container">
<pre class="src src-agda">{-# BUILTIN NATURAL Nat #-}
</pre>
</div>
<p>
äºæ˜¯æˆ‘ä»¬å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨è‡ªç„¶æ•°æ•°å­—äº†ï¼
</p>

<p>
ç®€å•å®šä¹‰å‡ ä¸ªåŸºæœ¬ç®—æœ¯ï¼š
</p>
<div class="org-src-container">
<pre class="src src-agda">
_+_ : Nat â†’ Nat â†’ Nat
zero + n = n
(succ n) + m = succ (n + m)

_*_ : Nat â†’ Nat â†’ Nat
zero * m = zero
(succ n) * m = m + (n * m)

infixl 60 _*_
infixl 40 _+_

</pre>
</div>

<p>
æ³¨æ„åˆ°è¿™é‡Œçš„ä¸­ç¼€å‡½æ•°è¡¨è¾¾ï¼Œagdaé‡Œå¯ä»¥ç”¨ä¸‹ç”»çº¿ <code>_</code> æ¥è¡¨ç¤ºè¿™é‡Œéœ€è¦å‚æ•°ã€‚
æœ€å¥½ç©çš„ä¸€ä¸ªä¾‹å­æ˜¯æˆ‘ä»¬å¯ä»¥å®šä¹‰å‡ºæ¥å’Œhaskellä¸€æ ·çš„if-then-elseã€‚
</p>
<div class="org-src-container">
<pre class="src src-agda">data Bool : Set where
  true  : Bool
  false : Bool

if_then_else_ : Bool -&gt; Bool -&gt; Bool
if true  then x else y = x
if false then x else y = y

infix  5 if_then_else_
</pre>
</div>

<p>
Cool! æˆ‘ä»¬æœ‰äº†å¸ƒå°”è¿ç®—ï¼
</p>
</div>
</div>

<div id="outline-container-org3cf2746" class="outline-3">
<h3 id="org3cf2746"><span class="section-number-3">2.2</span> ä»é›¶å¼€å§‹çš„åˆ—è¡¨(List)</h3>
<div class="outline-text-3" id="text-2-2">
<div class="org-src-container">
<pre class="src src-agda">data List (A : Set) : Set where
  []   : List A
  _::_ : A -&gt; List A -&gt; List A
</pre>
</div>
<p>
å¯ä»¥çœ‹åˆ°ï¼Œå’Œhaskellçš„GADTå‡ ä¹ä¸€æ¨¡ä¸€æ ·ã€‚
</p>
</div>
</div>

<div id="outline-container-org123e0a2" class="outline-3">
<h3 id="org123e0a2"><span class="section-number-3">2.3</span> å°è¯•æ„é€ æˆ‘ä»¬çš„å¸¸ç”¨å°å‡½æ•°ï¼</h3>
<div class="outline-text-3" id="text-2-3">
<div class="org-src-container">
<pre class="src src-agda">
id : {A : Set} â†’ A â†’ A
id x = x

map : {A B : Set} â†’ (A â†’ B) â†’ List A â†’ List B
map f [] = []
map f (x :: xs) = f x :: map f xs

foldl : {A B : Set} â†’ (B â†’ A â†’ B) â†’ B â†’ List A â†’ B
foldl f a [] = a
foldl f a (x :: xs) = foldl f (f a x) xs

</pre>
</div>

<p>
éœ€è¦è¯´æ˜çš„æ˜¯agdaæœ‰implicitå‚æ•°åŠŸèƒ½ï¼Œéœ€è¦çœç•¥çš„termç›´æ¥ç”¨å¤§æ‹¬å·{åŒ…èµ·æ¥}å°±å¯ä»¥ã€‚
è¿™é‡Œçš„å®šä¹‰å’Œä½¿ç”¨å‡ ä¹å’Œhaskellä¸€æ¨¡ä¸€æ ·ã€‚
</p>
</div>
</div>

<div id="outline-container-orgcdb884b" class="outline-3">
<h3 id="orgcdb884b"><span class="section-number-3">2.4</span> ç±»å‹å³å‘½é¢˜ï¼Œç¨‹åºå³è¯æ˜</h3>
<div class="outline-text-3" id="text-2-4">
<p>
å¯ä»¥è¯•è¯•å…ˆè¯æ˜æœ€ç®€å•çš„åŠ æ³•ç»“åˆå¾‹å’Œäº¤æ¢å¾‹ã€‚
</p>
</div>

<div id="outline-container-org453d008" class="outline-4">
<h4 id="org453d008"><span class="section-number-4">2.4.1</span> è¯æ˜åŠ æ³•ç»“åˆå¾‹</h4>
<div class="outline-text-4" id="text-2-4-1">
<div class="org-src-container">
<pre class="src src-agda">
+assoc : âˆ€ (m n p : Nat) â†’ (m + n) + p â‰¡ m + (n + p)
+assoc zero n p =
  begin
    (zero + n) + p
  â‰¡&lt;&gt;
    n + p
  â‰¡&lt;&gt;
    zero + (n + p)
  end

+assoc (suc m) n p = 
  begin
    ((suc m) + n) + p
  â‰¡&lt;&gt;
    suc (m + n) + p
  â‰¡&lt;&gt;
    suc ((m + n) + p)
  â‰¡&lt; cong suc (+assoc m n p) &gt;
    suc (m + (n + p))
  â‰¡&lt;&gt;
    suc m + (n + p)
  end

</pre>
</div>
<p>
æ³¨æ„è¿™é‡Œ <code>begin, \==&lt;&gt;, end</code> éƒ½æ˜¯agdaæ ‡å‡†åº“å‡½æ•°
</p>
</div>
</div>

<div id="outline-container-org1a1a3ce" class="outline-4">
<h4 id="org1a1a3ce"><span class="section-number-4">2.4.2</span> è¯æ˜åŠ æ³•äº¤æ¢å¾‹</h4>
<div class="outline-text-4" id="text-2-4-2">
<div class="org-src-container">
<pre class="src src-agda">
+identity : âˆ€ (m : Nat) â†’ m + 0 â‰¡ m
+identity 0 = refl
+identity (suc n) =
  begin
    (suc n) + 0
  â‰¡&lt;&gt;
    suc (n + 0)
  â‰¡&lt; cong suc (+identity n) &gt;
    suc n
  end


+suc : âˆ€ (m n : Nat) â†’ m + suc n â‰¡ suc (m + n)
+suc 0 n = refl
+suc (suc m) n =
  begin
    (suc m) + (suc n)
  â‰¡&lt;&gt;
    suc (m + suc n)
  â‰¡&lt; cong suc (+suc m n) &gt;
    suc (suc (m + n))
  â‰¡&lt;&gt;
    suc (suc m + n)
  end


+comm : âˆ€ (m n : Nat) â†’ m + n â‰¡ n + m
+comm m 0 =
  begin
    m + 0
  â‰¡&lt; +identity m &gt;
    m
  â‰¡&lt;&gt;
    0 + m
  end
+comm m (suc n) =
  begin
    m + (suc n)
  â‰¡&lt; +suc m n &gt;
    suc (m + n)
  â‰¡&lt; cong suc (+comm m n) &gt;
    suc (n + m)
  â‰¡&lt;&gt;
    suc n + m
  end

</pre>
</div>
<p>
ç”±äºagdaç®€æ´å¹²å‡€çš„è¯­æ³•ï¼Œå‡ ä¹ä¸éœ€è¦ä»»ä½•è§£é‡Šï¼Œä»£ç è‡ªæ˜ã€‚
</p>
</div>
</div>
</div>

<div id="outline-container-orga6341b1" class="outline-3">
<h3 id="orga6341b1"><span class="section-number-3">2.5</span> æƒ³æ‰¾åˆ°ç›¸ç­‰çš„ä¸œè¥¿æ˜¯äººç±»ä¸€åˆ‡æ€è€ƒçš„æºå¤´</h3>
<div class="outline-text-3" id="text-2-5">
<p>
ç›¸ç­‰çœ‹ä¼¼ç®€å•ï¼Œå®åˆ™å¾ˆæ·±å¥¥ï¼Œä»¥è‡³äºåœ¨èŒƒç•´è®ºé‡Œå®šä¹‰äº†å¥½å‡ ç§ç›¸ç­‰éƒ½ä¸å¤ªå¤Ÿç”¨ï¼Œç¼–ç¨‹æ›´æ˜¯ç›¸ç­‰æ»¡å¤©é£ï¼Œé‡è½½ <code>==</code> ä¸€ç›´æ˜¯ä¸€ä»¶å¾ˆé‡è¦çš„äº‹ã€‚
åœ¨agdaé‡Œï¼Œç›¸ç­‰è‡ªç„¶ä¹Ÿæœ‰å¥½å‡ ç§ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆçœ‹çœ‹Propositional equalityã€‚
</p>

<div class="org-src-container">
<pre class="src src-agda">data _â‰¡_ {A : Set} (x : A) : A â†’ Set where
  refl : x â‰¡ x

infix 4 _â‰¡_
</pre>
</div>
<p>
æ²¡é”™ï¼Œè¿™ç§ç›¸ç­‰çš„æƒ³æ³•å¾ˆç®€å•ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œé‚£ä¹ˆç›¸ç­‰ã€‚
</p>
</div>

<div id="outline-container-orgedb718b" class="outline-4">
<h4 id="orgedb718b"><span class="section-number-4">2.5.1</span> ç›¸ç­‰çš„ä¸‰ä¸ªåŸºæœ¬ç‰¹æ€§</h4>
<div class="outline-text-4" id="text-2-5-1">
<p>
æ—¢ç„¶æœ‰äº†è‡ªåæ€§ï¼Œé‚£æˆ‘ä»¬çš„ç›¸ç­‰è‚¯å®šä¹Ÿæ˜¯å¯¹ç§°çš„ä¸”æ˜¯å¯ä¼ é€’çš„ï¼Œæˆ‘ä»¬æ¥è¯•ç€è¯æ˜ï¼š
</p>
<div class="org-src-container">
<pre class="src src-agda">
sym : âˆ€ {A : Set} {x y : A}
  â†’ x â‰¡ y
  â†’ y â‰¡ x
sym refl = refl

trans : âˆ€ {A : Set} {x y z : A}
  â†’ x â‰¡ y
  â†’ y â‰¡ z
  â†’ x â‰¡ z
trans refl refl = refl

</pre>
</div>
</div>
</div>

<div id="outline-container-org164c290" class="outline-4">
<h4 id="org164c290"><span class="section-number-4">2.5.2</span> ç›¸ç­‰çš„å‡½æ•°å¯æ›¿æ¢æ€§</h4>
<div class="outline-text-4" id="text-2-5-2">
<p>
è¿™ä¸€ç‚¹å…¶å®æˆ‘ä»¬æ—©å·²è§è¯†è¿‡ï¼Œæ²¡é”™ï¼Œå°±æ˜¯å‰é¢ç”¨åˆ°çš„ <code>cong</code> å‡½æ•°ã€‚
è¿™é‡Œæˆ‘ä»¬æ¥è‡ªå·±åŠ¨æ‰‹å®šä¹‰ï¼š
</p>
<div class="org-src-container">
<pre class="src src-agda">
cong : âˆ€ {A B : Set} (f : A â†’ B) {x y : A}
  â†’ x â‰¡ y
  â†’ f x â‰¡ f y
cong f refl = refl

</pre>
</div>
<p>
åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œç­‰æ•ˆæ›¿æ¢äº†ï¼š
</p>
<div class="org-src-container">
<pre class="src src-agda">
subst : âˆ€ {A : Set} (f : A â†’ Set) {x y : A}
  â†’ x â‰¡ y
  â†’ f x â†’ f y
subst f refl fx = fx

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf8d07e5" class="outline-4">
<h4 id="orgf8d07e5"><span class="section-number-4">2.5.3</span> æ›´å¤šè¯æ˜ç›¸ç­‰çš„å·¥å…·</h4>
<div class="outline-text-4" id="text-2-5-3">
<p>
è¿˜è®°å¾—æˆ‘ä»¬å‰é¢ç”¨è¿‡çš„ <code>begin</code> <code>\==&lt;&gt;</code> <code>end</code> å‡½æ•°ä»¬å—ï¼Ÿäº†è§£äº†ç›¸ç­‰çš„åŸºæœ¬å®šä¹‰ä¹‹åï¼Œå®šä¹‰å®ƒä»¬å…¶å®ååˆ†ç®€å•ï¼š
</p>
<div class="org-src-container">
<pre class="src src-agda">
infix  1 begin_
infixr 2 _â‰¡&lt;&gt;_ _â‰¡&lt;_&gt;_
infix  3 _end

begin_ : âˆ€ {A : Set} {x y : A}
  â†’ x â‰¡ y
  â†’ x â‰¡ y
begin xâ‰¡y = xâ‰¡y

_â‰¡&lt;&gt;_ : âˆ€ {A : Set} (x : A) {y : A}
  â†’ x â‰¡ y
  â†’ x â‰¡ y
x â‰¡&lt;&gt; xâ‰¡y = xâ‰¡y

_â‰¡&lt;_&gt;_ : âˆ€ {A : Set} (x : A) {y z : A}
  â†’ x â‰¡ y
  â†’ y â‰¡ z
  â†’ x â‰¡ z
x â‰¡&lt; xâ‰¡y &gt; yâ‰¡z = trans xâ‰¡y yâ‰¡z

_end : âˆ€ {A : Set} (x : A)
  â†’ x â‰¡ x
x end = refl

</pre>
</div>
<p>
AgdaçœŸæ˜¯å¤ªå¥½ç©äº†ã€‚
</p>
</div>
</div>
</div>

<div id="outline-container-org8159626" class="outline-3">
<h3 id="org8159626"><span class="section-number-3">2.6</span> ä¸‡ç‰©åˆå§‹ï¼šå®‡å®™çš„ç”Ÿæˆ</h3>
<div class="outline-text-3" id="text-2-6">
<p>
å¦‚æœæˆ‘ä»¬å®Œå…¨ä¸ä½¿ç”¨agda-stdlibï¼Œæˆ‘ä»¬ä¾¿ä¸å¿…éµå¾ªä¸å¿…è¦çš„å‘½åï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§é€»è¾‘ä»é›¶å¼€å§‹åˆ›é€ ä¸å®‰æ’å®‡å®™ã€‚
ä¸Šé¢ä¸€ä¸ªå¾ˆä¸èµ·çœ¼çš„åœ°æ–¹æåˆ°è¿‡ï¼Œagdaçš„ <code>Set</code> çš„ç±»å‹ä¸æ˜¯ <code>Set</code> ï¼ˆä¸ºäº†é€ƒé¿ç½—ç´ æ‚–è®ºï¼‰ã€‚é‚£ä¹ˆ <code>Set</code> åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
åœ¨ä¸‡ç‰©åˆå§‹ï¼Œè°ä¹Ÿä¸çŸ¥é“è¿™æ˜¯å•¥ã€‚æˆ‘ä»¬ä¸å¦‚åŠ¨æ‰‹è‡ªå·±å°è¯•æ„é€ ï¼
</p>

<p>
ä¸ºäº†åç»­çš„æ„é€ æ–¹ä¾¿ï¼Œæˆ‘ä»¬åœ¨æ–‡ä»¶ç¬¬ä¸€è¡Œæ·»åŠ å¦‚ä¸‹ä¸€è¡ŒOPTIONï¼š
</p>
<div class="org-src-container">
<pre class="src src-agda">{-# OPTIONS --without-K --exact-split --safe #-}
</pre>
</div>
<p>
ä¸‹é¢å¼€å§‹æˆ‘ä»¬çš„åˆ›é€ ä¹‹æ—…ï¼
</p>
</div>

<div id="outline-container-org185164c" class="outline-4">
<h4 id="org185164c"><span class="section-number-4">2.6.1</span> å®‡å®™çš„æ¬¡ç¬¬</h4>
<div class="outline-text-4" id="text-2-6-1">
<p>
ä¸ºäº†ç»•å¼€ç½—ç´ æ‚–è®ºï¼Œæˆ‘ä»¬ä¸èƒ½ä»…ä»…åªæœ‰ä¸€ä¸ªå®‡å®™ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ›´ <i>large</i> çš„å®‡å®™æ¥æ— é™æ‹“å±•æˆ‘ä»¬åˆ›é€ çš„ä¸–ç•Œã€‚
</p>
<div class="org-src-container">
<pre class="src src-agda">data Level : Set where
  lzero : Level
  lsucc : Level -&gt; Level
</pre>
</div>
<p>
è¿™é‡Œçš„ <code>Set</code> åªæ˜¯ä¸€ä¸ª <code>Set 0</code> çš„è¯­æ³•ç³–ã€‚ä¸ºäº†è§„å®šå®‡å®™çš„æ¬¡åºï¼Œç±»ä¼¼äºè‡ªç„¶æ•°çš„inductionè§„åˆ™ï¼Œæˆ‘ä»¬æ„é€ äº†ç±»ä¼¼çš„ç»“æ„ï¼ˆä½†æ˜¯ä»£æ•°ç»“æ„ä¸åŒï¼‰ã€‚
æˆ‘ä»¬ä» <code>Set 0</code> å¼€å§‹æˆ‘ä»¬çš„åˆ›ä¸–ã€‚
</p>

<div class="org-src-container">
<pre class="src src-agda">open import Agda.Primitive public
 renaming (
            Level to Universe -- We speak of universes rather than of levels.
          ; lzero to ğ“¤â‚€       -- Our first universe is called ğ“¤â‚€
          ; lsuc to _âº        -- The universe after ğ“¤ is ğ“¤ âº
          ; SetÏ‰ to ğ“¤Ï‰        -- There is a universe ğ“¤Ï‰ strictly above ğ“¤â‚€, ğ“¤â‚, â‹¯ , ğ“¤â‚™, â‹¯
          )
 using    (_âŠ”_)               -- Least upper bound of two universes, e.g. ğ“¤â‚€ âŠ” ğ“¤â‚ is ğ“¤â‚

Type = Î» â„“ â†’ Set â„“

_Ì‡   : (ğ“¤ : Universe) â†’ Type (ğ“¤ âº)

ğ“¤â€ŠÌ‡  = Type ğ“¤

ğ“¤â‚ = ğ“¤â‚€ âº
ğ“¤â‚‚ = ğ“¤â‚ âº
ğ“¤â‚ƒ = ğ“¤â‚‚ âº

_âºâº : Universe â†’ Universe
ğ“¤ âºâº = ğ“¤ âº âº

universe-of : {ğ“¤ : Universe} (X : ğ“¤âŸÌ‡ ) â†’ Universe
universe-of {ğ“¤} X = ğ“¤

infix  1 _Ì‡
</pre>
</div>
<p>
ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>ğ“¤â€ŠÌ‡</code> æ¥æŒ‡ç§°å®é™…çš„å®‡å®™ï¼ˆğ“¤åªæ˜¯å®‡å®™çš„ç§©åºï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„Levelï¼‰ã€‚
</p>
</div>
</div>

<div id="outline-container-org5d003f1" class="outline-4">
<h4 id="org5d003f1"><span class="section-number-4">2.6.2</span> åˆå§‹ä¸ç»ˆç»“å¯¹è±¡</h4>
<div class="outline-text-4" id="text-2-6-2">
<p>
æ­£å¦‚ <code>Set</code> è¿™ä¸€è¯ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›é€ é›†åˆçš„ä¸–ç•Œã€‚
é›†åˆçš„ä¸–ç•Œåœ¨èŒƒç•´è®ºä¸­æœ‰ä¸¤ä¸ªåŸºæœ¬å¯¹è±¡ï¼ˆç±»å‹ï¼‰ï¼Œå³åˆå§‹å…ƒç´  <code>ğŸ™</code> å’Œç»ˆç»“å…ƒç´  <code>ğŸ˜</code> ã€‚
</p>
<div class="org-src-container">
<pre class="src src-agda">
variable
 ğ“¤ ğ“¥ ğ“¦ ğ“£ : Universe

data ğŸ™ : ğ“¤â‚€ Ì‡  where
 â‹† : ğŸ™

data ğŸ˜ : ğ“¤â‚€ Ì‡ where
</pre>
</div>
<p>
è¿™é‡Œ <code>ğŸ˜</code> å°±æ˜¯ç©ºé›†ï¼ŒğŸ™ å°±æ˜¯ä»…æœ‰ä¸€ä¸ªå…ƒç´ çš„ <i>singleton</i> ã€‚
æ¥å®šä¹‰åˆ›é€ è”ç³»çš„å‡½æ•°ï¼Œæœ‰äº†ä¸–ç•Œçš„åˆå§‹å’Œç»ˆç»“ï¼Œæˆ‘ä»¬å¯ä»¥æ­£å¼åŠ¨æ‰‹æ„é€ ä¸åˆ»ç”»è¿™ä¸ªä¸–ç•Œäº†ã€‚
</p>
<div class="org-src-container">
<pre class="src src-agda">
ğŸ™-induction : (A : ğŸ™ â†’ ğ“¤ Ì‡) â†’ A â‹† â†’ (x : ğŸ™) â†’ A x
ğŸ™-induction A a â‹† = a

ğŸ™-recursion : (B : ğ“¤ Ì‡) â†’ B â†’ ğŸ™ â†’ B
ğŸ™-recursion B = ğŸ™-induction (Î» _ â†’ B)


!ğŸ™ : {X : ğ“¤ Ì‡} â†’ X â†’ ğŸ™
!ğŸ™ x = â‹†



ğŸ˜-induction : (A : ğŸ˜ â†’ ğ“¤ Ì‡) â†’ (x : ğŸ˜) â†’ A x
ğŸ˜-induction A ()

ğŸ˜-recursion : (B : ğ“¤ Ì‡) â†’ ğŸ˜ â†’ B
ğŸ˜-recursion B = ğŸ˜-induction (Î» _ â†’ B)

!ğŸ˜ : (B : ğ“¤ Ì‡) â†’ ğŸ˜ â†’ B
!ğŸ˜ = ğŸ˜-recursion
</pre>
</div>
<p>
æˆ‘ä»¬è¿˜å¯ä»¥ç”¨å‡½æ•°æ¥åˆ¤æ–­ä¸€ä¸ªé›†åˆæ˜¯å¦ä¸ºç©ºï¼ˆFalseï¼‰ï¼š
</p>
<div class="org-src-container">
<pre class="src src-agda">
is-empty : ğ“¤ Ì‡ â†’ ğ“¤ Ì‡
is-empty X = X â†’ ğŸ˜

Â¬ : ğ“¤ Ì‡ â†’ ğ“¤ Ì‡
Â¬ = is-empty
</pre>
</div>
<p>
åœ¨è¿™é‡Œï¼Œç©º ä¸ å‡ ä¸€è¯­åŒå…³ã€‚  
</p>
</div>
</div>

<div id="outline-container-org41a89fc" class="outline-4">
<h4 id="org41a89fc"><span class="section-number-4">2.6.3</span> è‡ªç„¶æ•°å·åœŸé‡æ¥</h4>
<div class="outline-text-4" id="text-2-6-3">
<p>
æœ‰äº†ä¸Šé¢Levelçš„é¢„çƒ­ï¼Œè‡ªç„¶æ•°ä¸è¯·è‡ªæ¥ï¼š
</p>
<div class="org-src-container">
<pre class="src src-agda">
data â„• : ğ“¤â‚€ Ì‡ where
  zero : â„•
  succ : â„• â†’ â„•

{-# BUILTIN NATURAL â„• #-}
</pre>
</div>
<p>
æœ‰è¶£çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªç„¶æ•°æ¥è¿›è¡Œæ„‰å¿«åœ°inductionäº†ï¼
</p>
<div class="org-src-container">
<pre class="src src-agda">
â„•-induction : (A : â„• â†’ ğ“¤ Ì‡)
            â†’ A 0
            â†’ ((n : â„•) â†’ A n â†’ A (succ n))
            -------------------------------
            â†’ (n : â„•) â†’ A n
â„•-induction A aâ‚€ f = h where
  h : (n : â„•) â†’ A n
  h 0        = aâ‚€
  h (succ n) = f n (h n)
</pre>
</div>
<p>
è¿™é‡Œï¼Œæ³¨é‡Šçš„&#x2013;é•¿çº¿å’Œæ¨ç†å¼çš„æ¨ªçº¿è¾¾æˆäº†å®Œç¾çš„ç»Ÿä¸€ã€‚
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Comcx</p>
<p class="date">Created: 2020-03-05 å‘¨å›› 21:14</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
