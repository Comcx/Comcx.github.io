<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-01-25 周六 16:51 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>From Recursion to Greedy algorithms: a functional perspective</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Comcx" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">From Recursion to Greedy algorithms: a functional perspective</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org8942e50">1. Functional Programming とは &#x2026;</a></li>
<li><a href="#orgb94a15c">2. Divide and Conquer</a>
<ul>
<li><a href="#org0e9ad3c">2.1. Data structures by Lists</a>
<ul>
<li><a href="#org82a3d76">2.1.1. Replacing</a></li>
<li><a href="#orgc65db6a">2.1.2. <b>Reversing lists</b></a></li>
<li><a href="#orgb1baea0">2.1.3. foldl or foldr?</a></li>
</ul>
</li>
<li><a href="#orgec4b436">2.2. Expressions</a></li>
<li><a href="#org175780b">2.3. Data structures by Trees</a>
<ul>
<li><a href="#orge2074e5">2.3.1. Binary Tree</a></li>
<li><a href="#orga49e9f7">2.3.2. More general trees</a></li>
</ul>
</li>
<li><a href="#orgfb528e5">2.4. The answers</a>
<ul>
<li><a href="#orged214e3">2.4.1. What is data structure?</a></li>
<li><a href="#org908edf6">2.4.2. What is algorithm?</a></li>
<li><a href="#orge407147">2.4.3. Links between data structures and algorithms?</a></li>
<li><a href="#org2b9743a">2.4.4. How to select?</a></li>
</ul>
</li>
<li><a href="#orge013055">2.5. Abstract Data Types</a></li>
</ul>
</li>
<li><a href="#orgd266985">3. Dynamic Programming</a>
<ul>
<li><a href="#org7f1d761">3.1. A dynamic programming example by expanding data structure</a></li>
<li><a href="#org99f1542">3.2. A dynamic programming example by using extra data structures</a></li>
</ul>
</li>
<li><a href="#org07b6316">4. Greedy</a></li>
</ul>
</div>
</div>
<p>
There's an important leanring and developing chain of traditional algorithms:
</p>

<p>
<code>Divide and Conquer(recursion) ---&gt; Dynamic Programming(mermorization) --&gt; Greedy</code> 
</p>


<p>
This chain(route) is also quite suitble to get to think and solve a problem.
We may think problems in this way, but I sometimes just get confused if I insist on
following the rule. To collect our thinkings, programming languages play an really important role
in problem solving. Functional programming languages often work better for thinking but sometimes hard
to implement as efficiently as others. In fact, functional programming languages can also be very efficient
with careful implementation. As a programmer, we should get used to think in a more functional way and also,
be good at translate functional programs into other languages.
</p>


<div id="outline-container-org8942e50" class="outline-2">
<h2 id="org8942e50"><span class="section-number-2">1</span> Functional Programming とは &#x2026;</h2>
<div class="outline-text-2" id="text-1">
<p>
A functional programming language should have the following features:
</p>

<ol class="org-ol">
<li>Functions are first-class and thus can be passed as high-order function values.</li>
<li>Functions can be constructed without any side-effect.</li>
<li>Have both evaluation strategies: eager and lazy.</li>
</ol>


<p>
A functional programming language may have the following features:
</p>

<ol class="org-ol">
<li>Static and strict type system</li>
<li>Type polymorphism(type as type parameters)</li>
<li>Typeclass or trait(OO) system(u can also regard as structured overloading)</li>
<li>Pure without any side-effect(which means u can not survivie without monad:)</li>
<li>Dependent Typed System</li>
</ol>
</div>
</div>

<div id="outline-container-orgb94a15c" class="outline-2">
<h2 id="orgb94a15c"><span class="section-number-2">2</span> Divide and Conquer</h2>
<div class="outline-text-2" id="text-2">
<p>
Before starting to explore recursions, let us first reflect some questions:
</p>

<ol class="org-ol">
<li>What is data structure and what is a algorithm?</li>
<li>Any links between data structure and algorithms?</li>
<li>What kind of algorithm should we use for different kinds of data structures?</li>
</ol>
</div>

<div id="outline-container-org0e9ad3c" class="outline-3">
<h3 id="org0e9ad3c"><span class="section-number-3">2.1</span> Data structures by Lists</h3>
<div class="outline-text-3" id="text-2-1">
<p>
In functional world, a very common and heavy used data structure is <b>List a(or [a] in haskell)</b>.
Let's look at its definition first:
</p>
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #729fcf; font-weight: bold;">data</span> <span style="color: #8ae234; font-weight: bold;">List</span> a <span style="color: #ff6347; font-weight: bold;">=</span> <span style="color: #8ae234; font-weight: bold;">Nil</span> <span style="color: #ff6347; font-weight: bold;">|</span> <span style="color: #8ae234; font-weight: bold;">Cons</span> a <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">List</span> a<span style="color: #ffd700;">)</span>
</pre>
</div>
</div>

<div id="outline-container-org82a3d76" class="outline-4">
<h4 id="org82a3d76"><span class="section-number-4">2.1.1</span> Replacing</h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
If we regard that <code>List</code> is just a function which receive a type and output a type, then we can rewrite
the definition(this is not strict&#x2026;):
</p>
<pre class="example">
List :: (a :: Type) -&gt; Type where
  Cons :: a -&gt; List a -&gt; List a
  Nil  :: List a
</pre>
<p>
We just defined 3 functions, this can be easily done with dependent typed languages.
For a simple list: <code>[1, 2, 3],</code> we can simply write it done:
</p>
<pre class="example">
(Cons 1 (Cons 2 (Cons 3 Nil)))
</pre>
<p>
Now we just replace all <code>Cons</code> into <code>(+)</code> and <code>Nil</code> into <code>0</code>.
</p>
<pre class="example">
((+) 1 ((+) 2 ((+) 3 0))) =&gt; 1 + 2 + 3 + 0 =&gt; 6
</pre>
<p>
We just turned a unfoldable(terminated form) into a foldable expression!
You may see that List is a prototype of many expressions, we can use this abstracted data structure
to generate more expressions without actually writing them character after charater!
</p>

<p>
Now define a replacing function:
</p>
<pre class="example">
replace f a (Cons x xs) = f x (replace f a xs)
replace f a Nil = a
</pre>
<p>
In fact, this function is called <code>foldr</code> in Haskell.
By using <span class="underline">Lists</span>, we can divide and store problems into many linear sub-problems, i.e.
To solve a problem, we only need to solve one sub-problem before.(this give us hint to convert this recursion to loops)
</p>
</div>
</div>

<div id="outline-container-orgc65db6a" class="outline-4">
<h4 id="orgc65db6a"><span class="section-number-4">2.1.2</span> <b>Reversing lists</b></h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
One more interesting thing is that Haskell also have the function <code>foldl.</code> 
Then what's the differences between <code>foldr</code> and <code>foldl</code> ?
</p>

<p>
Lets again use our addition example.
</p>
<pre class="example">
xs = [0, 1, 2, 3] 
foldr (+) 0 xs =&gt; ((+) 0 ((+) 1 ((+) 2 ((+) 3 0)))) =&gt; (0 + 1 + 2 + 3 + 0)
foldl (+) 0 xs =&gt; ((+) ((+) ((+) ((+) 0 0) 1) 2) 3) =&gt; (0 + 0 + 1 + 2 + 3)
</pre>

<p>
Compared with <code>foldr</code>, <code>foldl</code> is can be seen as a reversed list-constructed expression.
Let's try to implement our <code>foldl</code>:
</p>
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #edd400; font-weight: bold;">foldl</span> f z <span style="color: #ffd700; font-weight: bold;">[]</span> <span style="color: #ff6347; font-weight: bold;">=</span> z
<span style="color: #edd400; font-weight: bold;">foldl</span> f z <span style="color: #ffd700;">(</span>x<span style="color: #8ae234; font-weight: bold;">:</span>xs<span style="color: #ffd700;">)</span> <span style="color: #ff6347; font-weight: bold;">=</span> foldl f <span style="color: #ffd700;">(</span>f z x<span style="color: #ffd700;">)</span> xs
</pre>
</div>

<p>
Great! Try to reverse a list using foldl:
</p>
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #edd400; font-weight: bold;">reverse</span> <span style="color: #ff6347; font-weight: bold;">=</span> foldl <span style="color: #ffd700;">(</span>flip <span style="color: #00bfff;">(</span><span style="color: #8ae234; font-weight: bold;">:</span><span style="color: #00bfff;">)</span><span style="color: #ffd700;">)</span> <span style="color: #ffd700; font-weight: bold;">[]</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb1baea0" class="outline-4">
<h4 id="orgb1baea0"><span class="section-number-4">2.1.3</span> foldl or foldr?</h4>
<div class="outline-text-4" id="text-2-1-3">
<ol class="org-ol">
<li>If we are in a stack model, then foldl can be used without worrying about stackoverflow.</li>
<li>Both are valid if we have the rule: (f a (f b c)) = (f (f a b) c). In other words, the type a in <code>List a</code> should
be an instance of typeclass <span class="underline">Monoid</span>.</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgec4b436" class="outline-3">
<h3 id="orgec4b436"><span class="section-number-3">2.2</span> Expressions</h3>
<div class="outline-text-3" id="text-2-2">
<p>
In the last part, we talked about data structures. However, a new question raised that,
What exactly is an expression??
</p>

<p>
Let's first get a simple definition.
</p>
<pre class="example">
An expression is any valid unit of code that resolves to a value.
</pre>
<p>
Well, this looks still not enough straight-forward answer.
If so, then what is value??
</p>

<p>
Before we have the ability and knowledge to answer these questions, let's firstly introduce some
necessary terminologies.
</p>

<ul class="org-ul">
<li><b>Thunk</b></li>
</ul>
<pre class="example">
A thunk is another name for the function(but the special one).
It's a function yet to be evaluated.
For example, in Haskell, every expression is lazy and be stored into a thunk.
</pre>

<ul class="org-ul">
<li><b>Beta reduction</b></li>
</ul>
<pre class="example">
Beta reduction is a process of calculating result of a function after function application.
We can now simple regard this process as a special replacing of introduced local variables.
</pre>

<p>
Ok! Now let's explore it! What is a value?
Firstly I guess <i>value</i> is the form that can not be calculated further.
If I'm right&#x2026; what about &#x2026;
</p>

<p>
<b>Definition of Redeuced Normal Form(RNF)</b> 
</p>
<pre class="example">
Expression A has RNF if there exists term B obtained from A that is in RNF and B is in RNF where 
there’s no term A such A can be obtained from B and A has RNF.
</pre>
<p>
To make my life easier, RNF is the form whose sub-expressions(including itself) can not be reduced any further.
</p>

<p>
<b>(Head) Normal Form</b>
</p>
<pre class="example">
An expression in (Head)normal form is fully evaluated, and no sub-expression could be evaluated any further.
</pre>
<p>
Well, seems similar to RNF. Next form is quite important:
</p>

<p>
<b>Weak Head Normal Form(WHNF)</b>
</p>
<pre class="example">
An expression is in weak head normal form when the outermost part has been evaluated to 
the data constructor or lambda abstraction. Sub-expressions may not have been evaluated. 
If all the sub-expressions would be evaluated then the expression would be in normal form. 
The conclusion is: every normal form expression is also in weak normal form. The opposite is not always the true.
</pre>
<p>
for example:
</p>
<pre class="example">
(1 + 1, 1 + 2)      
'h' : ("e" ++ "llo")
\x -&gt; 2 + 2 
</pre>

<p>
Alright, we've got the point of Haskell's lazy evlauation strategy.
In Haskell, expressions are evaluated until they are in need.
To be more precise, "in need" means we need to do pattern matching by data constructors.
</p>

<p>
Now I suppose I was wrong. Value should not be just expressions can not be evaluated further.
In lazy languages, it can also means <span class="underline">weak head normal form</span>.
</p>

<p>
Finally we feel that we've got better understanding of expressions&#x2026;(although still confusing and error-prone)
</p>
</div>
</div>

<div id="outline-container-org175780b" class="outline-3">
<h3 id="org175780b"><span class="section-number-3">2.3</span> Data structures by Trees</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Unlike <i>Lists,</i> Trees allow us to divide problems into many sub-problems.
To make things simple and clear, we first focus on <span class="underline">binary trees</span>.
</p>
</div>

<div id="outline-container-orge2074e5" class="outline-4">
<h4 id="orge2074e5"><span class="section-number-4">2.3.1</span> Binary Tree</h4>
<div class="outline-text-4" id="text-2-3-1">
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #729fcf; font-weight: bold;">data</span> <span style="color: #8ae234; font-weight: bold;">BinTree</span> a <span style="color: #ff6347; font-weight: bold;">=</span> <span style="color: #8ae234; font-weight: bold;">Empty</span> <span style="color: #ff6347; font-weight: bold;">|</span> <span style="color: #8ae234; font-weight: bold;">Node</span> a <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">BinTree</span> a<span style="color: #ffd700;">)</span> <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">BinTree</span> a<span style="color: #ffd700;">)</span>
</pre>
</div>
<p>
Again this data strucutre is a prototype for recursion algorithms.
Now we create an example and try to do the same things as <i>Lists</i>.
</p>

<ul class="org-ul">
<li>An example of Binary Tree</li>
</ul>
<pre class="example">
tree :: BinTree Int
tree = Node 0
         (Node 1 Empty Empty)
         (Node 2 
           (Node 3 Empty
                  (Node 4 Empty Empty))
           (Node 5 
             (Node 6 Empty Empty)
             (Node 7 Empty Empty)))
</pre>
<ul class="org-ul">
<li>Visualization</li>
</ul>
<pre class="example">
           0
    1             2
             3         5
               4     6   7
</pre>

<ul class="org-ul">
<li>Replacing(folding)</li>
</ul>
<p>
We want to do the replacing thing as Lists do.
Observe that this time we may have more parameters to replace:
</p>
<ol class="org-ol">
<li>Node</li>
<li>Empty</li>
<li>??</li>
</ol>
<p>
If the function to replace <code>Node</code> is binary(a -&gt; b -&gt; b), then we need the third pararmeter to combine
sub-trees.
Else, the third para is not necessary.
</p>

<ul class="org-ul">
<li>A naive replacing</li>
</ul>
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #edd400; font-weight: bold;">replace</span> f z <span style="color: #8ae234; font-weight: bold;">Empty</span> <span style="color: #ff6347; font-weight: bold;">=</span> z
<span style="color: #edd400; font-weight: bold;">replace</span> f z <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">Node</span> v t0 t1<span style="color: #ffd700;">)</span> <span style="color: #ff6347; font-weight: bold;">=</span> f v <span style="color: #ffd700;">(</span>replace f z t0<span style="color: #ffd700;">)</span> <span style="color: #ffd700;">(</span>replace f z t1<span style="color: #ffd700;">)</span>
</pre>
</div>
<ul class="org-ul">
<li>Visualization of the example</li>
</ul>
<pre class="example">
f 0 (f 1 z z)
    (f 2 (f 3 z 
              (f 4 z z))
         (f 5 (f 6 z z)
              (f 7 z z)))
</pre>

<p>
Now we can add all numbers of <code>BinTree Int</code>.
</p>
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #edd400; font-weight: bold;">sum</span> <span style="color: #ff6347; font-weight: bold;">=</span> replace <span style="color: #ffd700;">(</span><span style="color: #ff6347; font-weight: bold;">\</span>v a b <span style="color: #ff6347; font-weight: bold;">-&gt;</span> v <span style="color: #ff6347; font-weight: bold;">+</span> a <span style="color: #ff6347; font-weight: bold;">+</span> b<span style="color: #ffd700;">)</span> 0
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orgc83e93a"></a>Using tricks as foldl in Lists<br />
<div class="outline-text-5" id="text-2-3-1-1">
<p>
If we want to traverse a binary tree in an inorder order:
</p>

<ul class="org-ul">
<li>Naive inorder traverse</li>
</ul>
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #edd400; font-weight: bold;">inorder</span> <span style="color: #8ae234; font-weight: bold;">Empty</span> <span style="color: #ff6347; font-weight: bold;">=</span> <span style="color: #ffd700; font-weight: bold;">[]</span>
<span style="color: #edd400; font-weight: bold;">inorder</span> <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">Node</span> v t0 t1<span style="color: #ffd700;">)</span> <span style="color: #ff6347; font-weight: bold;">=</span> inorder t0 <span style="color: #ff6347; font-weight: bold;">++</span> <span style="color: #ffd700;">[</span>v<span style="color: #ffd700;">]</span> <span style="color: #ff6347; font-weight: bold;">++</span> inorder t1
</pre>
</div>
<p>
This is valid but not efficient for too many append operations.
Let's try to do some expression transformations:
</p>
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #edd400; font-weight: bold;">inorder'</span> t<span style="color: #ff6347; font-weight: bold;">@</span><span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">Node</span> v t0 t1<span style="color: #ffd700;">)</span> a <span style="color: #ff6347; font-weight: bold;">=</span> inorder t <span style="color: #ff6347; font-weight: bold;">++</span> a
  <span style="color: #ff6347; font-weight: bold;">=</span> inorder t0 <span style="color: #ff6347; font-weight: bold;">++</span> <span style="color: #ffd700;">[</span>v<span style="color: #ffd700;">]</span> <span style="color: #ff6347; font-weight: bold;">++</span> inorder t1 <span style="color: #ff6347; font-weight: bold;">++</span> a
  <span style="color: #ff6347; font-weight: bold;">=</span> inorder to <span style="color: #ff6347; font-weight: bold;">++</span> <span style="color: #ffd700;">(</span>v<span style="color: #8ae234; font-weight: bold;">:</span><span style="color: #00bfff;">(</span>inorder' t1 a<span style="color: #00bfff;">)</span><span style="color: #ffd700;">)</span>
  <span style="color: #ff6347; font-weight: bold;">=</span> inorder' t0 <span style="color: #ffd700;">(</span>v<span style="color: #8ae234; font-weight: bold;">:</span><span style="color: #00bfff;">(</span>inorder' t1 a<span style="color: #00bfff;">)</span><span style="color: #ffd700;">)</span> 
</pre>
</div>
<p>
Finally we have:
</p>
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #edd400; font-weight: bold;">inorder'</span> t <span style="color: #ff6347; font-weight: bold;">=</span> inorder'' t <span style="color: #ffd700; font-weight: bold;">[]</span> <span style="color: #729fcf; font-weight: bold;">where</span>
  inorder'' <span style="color: #8ae234; font-weight: bold;">Empty</span> z <span style="color: #ff6347; font-weight: bold;">=</span> z
  inorder'' <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">Node</span> v t0 t1<span style="color: #ffd700;">)</span> z <span style="color: #ff6347; font-weight: bold;">=</span> inorder'' t0 <span style="color: #ffd700;">(</span>v<span style="color: #8ae234; font-weight: bold;">:</span><span style="color: #00bfff;">(</span>inorder'' t1 a<span style="color: #00bfff;">)</span><span style="color: #ffd700;">)</span> 
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orga49e9f7" class="outline-4">
<h4 id="orga49e9f7"><span class="section-number-4">2.3.2</span> More general trees</h4>
<div class="outline-text-4" id="text-2-3-2">
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #729fcf; font-weight: bold;">data</span> <span style="color: #8ae234; font-weight: bold;">Tree</span> a <span style="color: #ff6347; font-weight: bold;">=</span> <span style="color: #8ae234; font-weight: bold;">Node</span> a <span style="color: #ffd700;">[</span><span style="color: #8ae234; font-weight: bold;">Tree</span> a<span style="color: #ffd700;">]</span>
</pre>
</div>
<p>
Now we have the prototype to handle all recursion problems!
</p>

<ul class="org-ul">
<li>Folding</li>
</ul>
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #edd400; font-weight: bold;">fold</span> f z <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">Node</span> v <span style="color: #00bfff; font-weight: bold;">[]</span><span style="color: #ffd700;">)</span> <span style="color: #ff6347; font-weight: bold;">=</span> f v <span style="color: #ffd700;">[</span>z<span style="color: #ffd700;">]</span>
<span style="color: #edd400; font-weight: bold;">fold</span> f z <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">Node</span> v ts<span style="color: #ffd700;">)</span> <span style="color: #ff6347; font-weight: bold;">=</span> f v <span style="color: #ff6347; font-weight: bold;">$</span> map <span style="color: #ffd700;">(</span>fold f z<span style="color: #ffd700;">)</span> ts
</pre>
</div>
<p>
or
</p>
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #edd400; font-weight: bold;">fold'</span> f g z <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">Node</span> v <span style="color: #00bfff; font-weight: bold;">[]</span><span style="color: #ffd700;">)</span> <span style="color: #ff6347; font-weight: bold;">=</span> f v z
<span style="color: #edd400; font-weight: bold;">fold'</span> f g z <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">Node</span> v ts<span style="color: #ffd700;">)</span> <span style="color: #ff6347; font-weight: bold;">=</span> f v <span style="color: #ff6347; font-weight: bold;">$</span> <span style="color: #ffd700;">(</span>g <span style="color: #ff6347; font-weight: bold;">$</span> map <span style="color: #00bfff;">(</span>fold' f g z<span style="color: #00bfff;">)</span> ts<span style="color: #ffd700;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfb528e5" class="outline-3">
<h3 id="orgfb528e5"><span class="section-number-3">2.4</span> The answers</h3>
<div class="outline-text-3" id="text-2-4">
<p>
OK! now I may answer the three questions before(may be wrong, only my views):
</p>
</div>

<div id="outline-container-orged214e3" class="outline-4">
<h4 id="orged214e3"><span class="section-number-4">2.4.1</span> What is data structure?</h4>
<div class="outline-text-4" id="text-2-4-1">
<p>
Data structures are recursion proto structures which can be used to solve problems.
</p>
</div>
</div>

<div id="outline-container-org908edf6" class="outline-4">
<h4 id="org908edf6"><span class="section-number-4">2.4.2</span> What is algorithm?</h4>
<div class="outline-text-4" id="text-2-4-2">
<p>
Algorithms are <span class="underline">foldable</span> data structures.
</p>
</div>
</div>

<div id="outline-container-orge407147" class="outline-4">
<h4 id="orge407147"><span class="section-number-4">2.4.3</span> Links between data structures and algorithms?</h4>
<div class="outline-text-4" id="text-2-4-3">
<p>
Data structures can be easily converted to algorithms.
Algorithms can be used to generate data structures.
</p>
</div>
</div>

<div id="outline-container-org2b9743a" class="outline-4">
<h4 id="org2b9743a"><span class="section-number-4">2.4.4</span> How to select?</h4>
<div class="outline-text-4" id="text-2-4-4">
<p>
To select data structures with respect to different kind os algorithms,
We should choose data structures which have the same recursion structure as the algorithm
as far as possible.
</p>
</div>
</div>
</div>

<div id="outline-container-orge013055" class="outline-3">
<h3 id="orge013055"><span class="section-number-3">2.5</span> Abstract Data Types</h3>
<div class="outline-text-3" id="text-2-5">
<p>
In fact, data structures we talked before are <span class="underline">Algebra Data Structures(ADT)</span>.
However, we can generize our types a little bit, we can define types by actions.
</p>
</div>
</div>
</div>



<div id="outline-container-orgd266985" class="outline-2">
<h2 id="orgd266985"><span class="section-number-2">3</span> Dynamic Programming</h2>
<div class="outline-text-2" id="text-3">
<p>
Dynamic programming is about finding similar sub structures.
</p>
</div>

<div id="outline-container-org7f1d761" class="outline-3">
<h3 id="org7f1d761"><span class="section-number-3">3.1</span> A dynamic programming example by expanding data structure</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Suppose we want to insert a node at the lowest level of the smallest sub-tree.
(Binary Tree definition just as before)
</p>
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #edd400; font-weight: bold;">tinsert</span> v <span style="color: #8ae234; font-weight: bold;">Empty</span> <span style="color: #ff6347; font-weight: bold;">=</span> <span style="color: #8ae234; font-weight: bold;">Node</span> v <span style="color: #8ae234; font-weight: bold;">Empty</span> <span style="color: #8ae234; font-weight: bold;">Empty</span>
<span style="color: #edd400; font-weight: bold;">tinsert</span> v <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">Node</span> w t0 t1<span style="color: #ffd700;">)</span>
  <span style="color: #ff6347; font-weight: bold;">|</span> size t0 <span style="color: #ff6347; font-weight: bold;">&lt;=</span> size t1 <span style="color: #ff6347; font-weight: bold;">=</span> <span style="color: #8ae234; font-weight: bold;">Node</span> w <span style="color: #ffd700;">(</span>tinsert v t0<span style="color: #ffd700;">)</span> t1
  <span style="color: #ff6347; font-weight: bold;">|</span> otherwise          <span style="color: #ff6347; font-weight: bold;">=</span> <span style="color: #8ae234; font-weight: bold;">Node</span> w t0 <span style="color: #ffd700;">(</span>tinsert v t1<span style="color: #ffd700;">)</span>
</pre>
</div>
<p>
We can see that the function <code>size</code> is used several times and it seems that there're
relations between levels of sub-trees that can be used to calculate the size more efficiently.
</p>

<p>
An alternative is to use the following tree definition instead:
</p>
<div class="org-src-container">
<pre class="src src-haskell">
<span style="color: #729fcf; font-weight: bold;">data</span> <span style="color: #8ae234; font-weight: bold;">BinTreeM</span> a 
  <span style="color: #ff6347; font-weight: bold;">=</span> <span style="color: #8ae234; font-weight: bold;">EmptyM</span> 
  <span style="color: #ff6347; font-weight: bold;">|</span> <span style="color: #8ae234; font-weight: bold;">NodeM</span> <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">Int</span>, <span style="color: #8ae234; font-weight: bold;">Int</span><span style="color: #ffd700;">)</span> a <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">BinTreeM</span> a<span style="color: #ffd700;">)</span> <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">BinTreeM</span> a<span style="color: #ffd700;">)</span>

<span style="color: #edd400; font-weight: bold;">tinsertM</span> v <span style="color: #8ae234; font-weight: bold;">EmptyM</span> <span style="color: #ff6347; font-weight: bold;">=</span> <span style="color: #8ae234; font-weight: bold;">NodeM</span> <span style="color: #ffd700;">(</span>0, 0<span style="color: #ffd700;">)</span> v <span style="color: #8ae234; font-weight: bold;">EmptyM</span> <span style="color: #8ae234; font-weight: bold;">EmptyM</span>
<span style="color: #edd400; font-weight: bold;">tinsertM</span> v <span style="color: #ffd700;">(</span><span style="color: #8ae234; font-weight: bold;">NodeM</span> <span style="color: #00bfff;">(</span>s0, s1<span style="color: #00bfff;">)</span> w t0 t1<span style="color: #ffd700;">)</span>
  <span style="color: #ff6347; font-weight: bold;">|</span> s0 <span style="color: #ff6347; font-weight: bold;">&lt;=</span> s1  <span style="color: #ff6347; font-weight: bold;">=</span> <span style="color: #8ae234; font-weight: bold;">NodeM</span> <span style="color: #ffd700;">(</span>s0 <span style="color: #ff6347; font-weight: bold;">+</span> 1, s1<span style="color: #ffd700;">)</span> w <span style="color: #ffd700;">(</span>tinsertM v t0<span style="color: #ffd700;">)</span> t1
  <span style="color: #ff6347; font-weight: bold;">|</span> otherwise <span style="color: #ff6347; font-weight: bold;">=</span> <span style="color: #8ae234; font-weight: bold;">NodeM</span> <span style="color: #ffd700;">(</span>s0, s1 <span style="color: #ff6347; font-weight: bold;">+</span> 1<span style="color: #ffd700;">)</span> w t0 <span style="color: #ffd700;">(</span>tinsertM v t1<span style="color: #ffd700;">)</span>
</pre>
</div>

<p>
However, you may think that this example is not a right dynamic programming example.
So let's take more examples.
</p>
</div>
</div>

<div id="outline-container-org99f1542" class="outline-3">
<h3 id="org99f1542"><span class="section-number-3">3.2</span> A dynamic programming example by using extra data structures</h3>
<div class="outline-text-3" id="text-3-2">
<p>
A well-known data structre used frequently in dynamic programming is <code>Array</code>.
</p>
</div>
</div>
</div>


<div id="outline-container-org07b6316" class="outline-2">
<h2 id="org07b6316"><span class="section-number-2">4</span> Greedy</h2>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2020-01-22 周三 00:00</p>
<p class="author">Author: Comcx</p>
<p class="date">Created: 2020-01-25 周六 16:51</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
